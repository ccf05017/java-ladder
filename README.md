# 사다리 게임
## 진행 방법
* 사다리 게임 게임 요구사항을 파악한다.
* 요구사항에 대한 구현을 완료한 후 자신의 github 아이디에 해당하는 브랜치에 Pull Request(이하 PR)를 통해 코드 리뷰 요청을 한다.
* 코드 리뷰 피드백에 대한 개선 작업을 하고 다시 PUSH한다.
* 모든 피드백을 완료하면 다음 단계를 도전하고 앞의 과정을 반복한다.

## 온라인 코드 리뷰 과정
* [텍스트와 이미지로 살펴보는 온라인 코드 리뷰 과정](https://github.com/nextstep-step/nextstep-docs/tree/master/codereview)

## Step1. 자바8 스트림, 람다, 옵셔널
### 실습1 - 람다
- [X] 익명 클래스를 람다로 전환하기
- [X] 람다를 활용해서 중복 제거하기
    - [X] 변경되는 부분을 인터페이스로 추출한다.
    - [X] 익명 클래스로 구현해본다.
    - [X] lambda로 바꿔본다.

### 실습2 - Stream
- [X] StreamStudy의 sumOverThreeAndDouble을 구현한다.
    - [X] 3을 넘는 숫자만 골라내도록 구현한다. (filter)
    - [X] 골라낸 숫자에 모두 2를 곱하도록 구현한다. (map)
    - [X] 골라낸 숫자에 2가 곱해진 값을 모두 더한다. (reduce)
- [X] printLongestWordTop100을 구현한다.
    - [X] 단어의 길이가 12자를 초과하는 단어만 추출한다.
    - [X] 긴 순서로 100개만 추려낸다.
    - [X] 추려낸 단어는 중복 없이 100개 단어여야 한다.
    - [X] 추려낸 단어를 모두 소문자로 바꾼 뒤 출력한다.

### 실습3 - Optional
- [X] ageIsInRange2를 optional, stream을 사용해서 UserTest를 모두 통과하도록 구현한다.
- [X] getUser 메서드를 stream, optional을 활용해 구현한다.
- [X] ExpressionTest가 통과하도록 stream을 이용해서 Expression의 of 메서드를 구현한다. 

### 피드백 반영
- [X] Lambda를 메서드당 들여쓰기 한 번으로 줄이도록 개선한다.
- [X] lambda limit 메서드를 통해 리스트 자르기를 대체한다.
- [X] 에러 발생 시 좀 더 정확한 메시지를 던지도록 개선한다.
- [X] getter 대신 객체에게 메시지를 던질 수 있도록 개선한다.

## Step2. 사다리(생성)
- [X] Line 객체
    - 사다리 게임의 한 단계를 책임진다.
    - 내부적으로 lineFactory 컬렉션을 관리한다.
    - 사다리를 놓을 수 있는 곳과 없는 곳에 boolean 값을 배치한다.
    - [X] 참여하는 인원수를 입력받아서 객체를 생성할 수 있다.
    - [X] 참여하는 인원수는 무조건 1 이상이어야 한다.
    - [X] 첫번째 칸에는 무조건 다리를 놓을 수 없다.
    - [X] 바로 전 칸에 다리가 없다면, 현재 칸에는 다리를 놓을 수 있다.
    - [X] 바로 전 칸에 다리를 놓았다면, 현재 칸에는 다리를 놓을 수 없다.(연속해서 다리를 놓을 수 없다.)
- [X] Points 일급 컬렉션
    - Points 컬렉션 관리 자체에 대한 책임이 점점 커지는 것으로 생각되어 일급 컬렉션으로 분리
    - 사실상 Line이 Point 일급 컬렉션 역할을 아닌가 생각했는데, 그렇게는 구조가 잘 안나오는 것 같아서 분리했습니다.
    - [X] 객체 생성시 첫번째 값이 false인 콜렉션을 속성으로 가짐
    - [X] add 메서드를 통해 내부 컬렉션에 값을 추가할 수 있음
        - [X] 추가 시 내부 컬렉션의 가장 마지막 상태가 false면 true 추가
        - [X] 추가 시 내부 컬렉션의 가장 마지막 상태가 true면 false 추가
- [X] Ladder 객체
    - Line 콜렉션을 속성으로 갖는다.
    - [X] Ladder의 최대 높이와 인원수를 입력받아서 객체를 생성 할 수 있다.
    - [X] Ladder의 최소 높이는 1 이상이어야 한다.
- [X] PlayerName 객체
    - [X] value를 속성으로 갖는다.
    - [X] 1 ~ 5글자 사이의 value로 객체를 생성할 수 있다.
    - [X] null이나 빈 문자열로 객체를 생성할 수 없다.
- [X] PlayerNames 객체
    - PlayerName을 관리하는 일급 컬렉션이다.
    - [X] 쉼표로 구분된 문자열을 입력 받아서 객체를 생성할 수 있다.
    - [X] null이나 빈 문자열로 객체를 생성할 수 없다.
    - [X] 갖고 있는 PlayerName 중 가장 긴 이름의 길이를 알 수 있다.
- [X] InputView 객체
    - 게임에 참여할 사람 명단, 최대 사다리 높이를 입력받는 객체
    - [X] 사다리 게임에 참여할 사람 목록, 최대 사다리 높이를 입력받아서 객체를 생성할 수 있다.
    - [X] 객체 생성 시 System Scanner를 통해 값을 입력받을 수 있다.
    - [X] 최대 사다리 높이가 0 이하인 경우 예외 발생하도록 validation
- [X] OutputView 객체
    - InputView의 값을 기반으로 생성된 Ladder를 출력할 수 있다.
    - [X] PlayerNames, Ladder 객체를 주입받아서 객체를 생성할 수 있다.
    - [X] 제일 긴 이름 길이, Line 객체를 받아서 사다리 한 줄을 출력할 수 있다.
    - [X] Ladder의 모든 Line을 출력할 수 있다.
    - [X] 출력된 Ladder의 폭에 맞게 Ladder 위에 참여자 명단을 출력할 수 있다.
- [X] UiController 객체
    - InputView와 OutputView를 잘 조율해서 결과를 출력한다.
- [X] PointAddStrategy 인터페이스
    - 고정적으로 사다리가 생성되는 현상을 방지하기 위해, 정책에 따라 사다리 point 추가가 변화하도록 구현
    - [X] 다리를 놓을 수 있는 위치에서 진짜로 놓을 것이지 확정하는 인터페이스 구현

### 1차 리뷰 반영
- [X] 가독성을 위한 개행(Ladder)
- [X] 메서드의 시작은 동사로 (모든 validation 메서드들)
- [X] 중복되는 의미의 클래스 속성명 수정 (PlayerName)
- [X] 고정적인 의미의 문자열 상수화(PlayerNames, InputView, OutputView)
- [X] 인터페이스 메서드명을 좀 더 구체적으로 변경(PointAddStrategy)
- [X] Line과 Points로 굳이 일급 컬렉션을 나눠야 하는지 고민해본다
    - [X] 나누지 않게 될 경우 add 연산이 아니라 아예 정적 팩토리 메서드로 새로 만드는 방법을 고려해본다.
    - Line의 생성 관련 복잡성을 다루기 위해서는 Factory 객체가 더 맞다고 판단되어 Factory 패턴을 사용하도록 리팩토링 진행
- [X] InputView를 초기화하는 과정을 세분화해본다
- [X] draw 메서드 시리즈의 더 적합한 이름을 고민해본다(OutputView)
- [X] 테스트 코드 중복 해소(OutputViewTests)

### 2차 리뷰 반영
- [ ] OutputView 세분화 고려 (사다리와 관련된 부분만 따로 뽑아내기)
- [ ] Line의 Boolean까지 포장 해보기
- [X] 만들어 둔 상수 사용하기 (LineFactory)
- [X] 지나치게 구체적인 메서드명 이름 다시 고려하기
- [X] 상수와 인스턴스 변수 간 개행 추가
- [ ] 메서드는 동사로 시작하기(OutputView)
